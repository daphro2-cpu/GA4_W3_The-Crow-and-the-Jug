<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Crow and the Jug ‚Äì Online Practice</title>

<style>
body{
  font-family:"Century Gothic", Arial, sans-serif;
  background:#f6f7fb;
  margin:0;
  padding:20px;
}
.container{max-width:1000px;margin:auto;}
.header{
  display:flex;align-items:center;gap:16px;
  background:#ffffff;padding:14px 16px;
  border-radius:10px;
  box-shadow:0 2px 10px rgba(0,0,0,.08);
  margin-bottom:20px;
}
.header img{height:60px;}
h1{margin:0;color:#5a3fa3;}
.sub{font-size:14px;color:#444;}

.box{
  background:#ffffff;
  padding:16px;
  margin-bottom:20px;
  border-radius:10px;
  box-shadow:0 2px 10px rgba(0,0,0,.08);
}
h2{color:#5a3fa3;margin-top:0;}
.note{
  background:#f0edff;
  padding:10px;
  border-radius:8px;
  font-size:14px;
  border:1px solid rgba(90,63,163,.25);
}

.tiles{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;}
.tile{
  background:#5a3fa3;
  color:#fff;
  padding:6px 10px;
  border-radius:6px;
  cursor:pointer;
  font-weight:700;
  user-select:none;
}
.tile.used{opacity:.4;}

.answerBox{
  margin-top:6px;
  min-height:32px;
  padding:6px 10px;
  border:2px dashed #bbb;
  border-radius:8px;
  font-weight:700;
  background:#fff;
}

.feedback{margin-left:8px;font-weight:800;}
.good{color:#138a36;}
.bad{color:#b00020;}

button{
  padding:8px 14px;
  margin-top:10px;
  border:none;
  border-radius:8px;
  background:#5a3fa3;
  color:#fff;
  cursor:pointer;
  font-weight:700;
}
button.secondary{background:#333;}
button.ghost{
  background:transparent;
  color:#5a3fa3;
  border:2px solid #5a3fa3;
}
select{padding:6px;border-radius:6px;}

hr{border:none;border-top:1px solid #eee;margin:14px 0;}

.qblock{
  background:#fafafe;
  border:1px solid #ececf5;
  padding:10px;
  border-radius:10px;
  margin-bottom:12px;
}
.tiny{font-size:13px;color:#555;margin-top:6px;}

.footer{
  text-align:center;
  font-size:12px;
  color:#666;
  margin-top:20px;
}

.hidden{display:none;}
.scoreline{font-weight:700;margin-top:8px;}
.small{font-size:13px;color:#555;}
</style>
</head>

<body>
<div class="container">

<!-- HEADER -->
<div class="header">
  <img src="logo.png" alt="School Logo">
  <div>
    <h1>The Crow and the Jug</h1>
    <div class="sub">Online Reading & Vocabulary Practice</div>
  </div>
</div>

<!-- INTRO -->
<div class="box">
  <div class="note">
    Try your best. Click the letters to build the word.  
    If you make a mistake, reset and try again.
  </div>
</div>

<!-- PART 1: UNSCRAMBLE -->
<div class="box">
<h2>Part 1: Spelling Practice (Click to Unscramble)</h2>
<p class="small">All words are from today‚Äôs vocabulary list.</p>

<ol id="spellingList"></ol>

<button onclick="checkSpelling()">Check Part 1 ‚úÖ</button>
<button class="secondary" onclick="resetSpelling()">Reset üîÑ</button>

<div class="scoreline">Score: <span id="spellScore">0/11</span> ‚≠ê</div>

<hr>

<button class="ghost" id="challengeBtn" onclick="toggleChallenge()">Try a challenge (optional)</button>

<div id="challengeArea" class="hidden">
  <div class="note" style="margin-top:12px;">
    Challenge word (optional): This word is <strong>NOT</strong> on your vocabulary list.  
    Try it only if you want extra practice.
  </div>

  <ol id="bonusList"></ol>

  <button onclick="checkBonus()">Check Challenge ‚úÖ</button>
  <button class="secondary" onclick="resetBonus()">Reset Challenge üîÑ</button>
</div>

</div>

<!-- PART 2: CONTEXT -->
<div class="box">
<h2>Part 2: Vocabulary in Context</h2>
<p>Choose the best word to complete each sentence.</p>

<ol>
  <li>The crow was on a long ______ across the land.
    <select id="c1"><option></option><option>journey</option><option>jug</option><option>shade</option></select>
    <span id="cf1" class="feedback"></span>
  </li>

  <li>He landed in a hot ______ with no water.
    <select id="c2"><option></option><option>desert</option><option>journey</option><option>shadow</option></select>
    <span id="cf2" class="feedback"></span>
  </li>

  <li>After flying all day, he was ______ and needed rest.
    <select id="c3"><option></option><option>dazzling</option><option>exhausted</option><option>narrow</option></select>
    <span id="cf3" class="feedback"></span>
  </li>

  <li>The sun was ______, so it was hard to look at it.
    <select id="c4"><option></option><option>dazzling</option><option>refreshed</option><option>locate</option></select>
    <span id="cf4" class="feedback"></span>
  </li>

  <li>The crow tried to ______ water, but he couldn‚Äôt find any.
    <select id="c5"><option></option><option>locate</option><option>soar</option><option>drop</option></select>
    <span id="cf5" class="feedback"></span>
  </li>

  <li>The jug opening was too ______ for the crow‚Äôs beak to fit.
    <select id="c6"><option></option><option>narrow</option><option>refreshed</option><option>desert</option></select>
    <span id="cf6" class="feedback"></span>
  </li>

  <li>He began to ______ small stones into the jug.
    <select id="c7"><option></option><option>drop</option><option>soar</option><option>locate</option></select>
    <span id="cf7" class="feedback"></span>
  </li>

  <li>Finally, he could drink and felt ______.
    <select id="c8"><option></option><option>refreshed</option><option>dazzling</option><option>narrow</option></select>
    <span id="cf8" class="feedback"></span>
  </li>

  <li>He spread his wings and ______ away into the sky.
    <select id="c9"><option></option><option>soar</option><option>drop</option><option>journey</option></select>
    <span id="cf9" class="feedback"></span>
  </li>

  <li>He stopped and thought until he could ______ an idea.
    <select id="c10"><option></option><option>come up with</option><option>refreshed</option><option>desert</option></select>
    <span id="cf10" class="feedback"></span>
  </li>
</ol>

<button onclick="checkContext()">Check Part 2 ‚úÖ</button>
<button class="secondary" onclick="resetContext()">Reset üîÑ</button>
</div>

<!-- PART 3: COMPREHENSION -->
<div class="box">
<h2>Part 3: Reading Comprehension</h2>
<p>Choose the best answer. If you make a mistake, read the tip and try again.</p>

<div class="qblock">
<strong>1) Where did the crow land?</strong><br>
<label><input type="radio" name="q1" value="a"> In a desert.</label><br>
<label><input type="radio" name="q1" value="b"> In a forest.</label>
<div id="qf1" class="feedback"></div>
<div id="qh1" class="tiny"></div>
</div>

<div class="qblock">
<strong>2) Why couldn‚Äôt the crow drink the water at first?</strong><br>
<label><input type="radio" name="q2" value="a"> The jug was too narrow.</label><br>
<label><input type="radio" name="q2" value="b"> The water was frozen.</label>
<div id="qf2" class="feedback"></div>
<div id="qh2" class="tiny"></div>
</div>

<div class="qblock">
<strong>3) What did the crow do with the stones?</strong><br>
<label><input type="radio" name="q3" value="a"> He dropped them into the jug.</label><br>
<label><input type="radio" name="q3" value="b"> He threw them far away.</label>
<div id="qf3" class="feedback"></div>
<div id="qh3" class="tiny"></div>
</div>

<div class="qblock">
<strong>4) What happened to the water level?</strong><br>
<label><input type="radio" name="q4" value="a"> It rose higher.</label><br>
<label><input type="radio" name="q4" value="b"> It disappeared.</label>
<div id="qf4" class="feedback"></div>
<div id="qh4" class="tiny"></div>
</div>

<div class="qblock">
<strong>5) What lesson does the story teach?</strong><br>
<label><input type="radio" name="q5" value="a"> Use your brain to solve problems.</label><br>
<label><input type="radio" name="q5" value="b"> Always give up quickly.</label>
<div id="qf5" class="feedback"></div>
<div id="qh5" class="tiny"></div>
</div>

<button onclick="checkComprehension()">Check Part 3 ‚úÖ</button>
<button class="secondary" onclick="resetComprehension()">Reset üîÑ</button>

<div class="scoreline">Score: <span id="compScore">0/5</span></div>
</div>

<div class="footer">
Great work. Practice makes you a stronger reader.
</div>

</div>

<script>
/* =========================================================
   PART 1: CLICK-TO-UNSCRAMBLE (11 words)
   ========================================================= */
const SPACE_TILE = "‚ê†";

const spellingWords = [
  {word:"journey", letters:["n","r","j","o","u","e","y"], meaning:"a long trip (noun)"},
  {word:"desert", letters:["s","e","d","r","t","e"], meaning:"a hot, dry place with sand (noun)"},
  {word:"jug", letters:["u","g","j"], meaning:"a container for water (noun)"},
  {word:"exhausted", letters:["t","e","u","s","x","e","d","a","h","u","o"], meaning:"very tired (adjective)"},
  {word:"dazzling", letters:["z","d","a","z","l","i","n","g"], meaning:"very bright (adjective)"},
  {word:"refreshed", letters:["e","r","f","e","s","h","d","r","e"], meaning:"feeling better again (adjective)"},
  {word:"drop", letters:["p","d","r","o"], meaning:"let something fall (verb)"},
  {word:"soar", letters:["a","s","o","r"], meaning:"fly high (verb)"},
  {word:"locate", letters:["l","a","t","e","o","c"], meaning:"find (verb)"},
  {word:"narrow", letters:["r","a","n","w","r","o"], meaning:"not wide (adjective)"},
  {word:"come up with", letters:["c","o","m","e",SPACE_TILE,"u","p",SPACE_TILE,"w","i","t","h"], meaning:"think of an idea (phrase)"}
];

const list = document.getElementById("spellingList");

spellingWords.forEach((item,i)=>{
  const li=document.createElement("li");
  li.innerHTML=`
    <strong>${item.meaning}</strong>
    <div class="tiles" id="tiles${i}"></div>
    <div class="answerBox" id="ans${i}"></div>
    <span id="fb${i}" class="feedback"></span>
  `;
  list.appendChild(li);

  const tiles=document.getElementById("tiles"+i);

  item.letters.forEach(l=>{
    const span=document.createElement("span");
    span.className="tile";
    span.textContent = (l===SPACE_TILE) ? "‚ê†" : l;
    span.dataset.letter = l;
    span.onclick=()=>toggleLetter(span,i);
    tiles.appendChild(span);
  });
});

function toggleLetter(tile,i){
  const box=document.getElementById("ans"+i);
  const letter = tile.dataset.letter;

  if(tile.classList.contains("used")){
    tile.classList.remove("used");
    const current = box.textContent;
    const targetChar = (letter===SPACE_TILE) ? " " : letter;
    const idx = current.indexOf(targetChar);
    if(idx !== -1){
      box.textContent = current.slice(0, idx) + current.slice(idx+1);
    }
  }else{
    tile.classList.add("used");
    box.textContent += (letter===SPACE_TILE) ? " " : letter;
  }
}

function normalize(s){
  return s.replace(/\s+/g," ").trim().toLowerCase();
}

function checkSpelling(){
  let score=0;
  spellingWords.forEach((item,i)=>{
    const ans = normalize(document.getElementById("ans"+i).textContent);
    const correct = normalize(item.word);
    const fb=document.getElementById("fb"+i);

    if(ans===correct){
      fb.textContent="‚úî";
      fb.className="feedback good";
      score++;
    }else{
      fb.textContent="‚úñ";
      fb.className="feedback bad";
    }
  });
  document.getElementById("spellScore").textContent=score+"/11";
}

function resetSpelling(){
  spellingWords.forEach((_,i)=>{
    document.getElementById("ans"+i).textContent="";
    document.getElementById("fb"+i).textContent="";
    document.querySelectorAll(`#tiles${i} .tile`).forEach(t=>t.classList.remove("used"));
  });
  document.getElementById("spellScore").textContent="0/11";
}

/* =========================================================
   CHALLENGE WORD (optional): clearly not on vocab sheet
   ========================================================= */
const bonusWords = [
  {word:"oppressive", letters:["p","p","o","r","e","s","s","i","v","e"], meaning:"oppressive = very hot and heavy (NOT on this week‚Äôs vocab list)"}
];

const bonusList = document.getElementById("bonusList");

bonusWords.forEach((item,i)=>{
  const li=document.createElement("li");
  li.innerHTML=`
    <strong>${item.meaning}</strong>
    <div class="tiles" id="btiles${i}"></div>
    <div class="answerBox" id="bans${i}"></div>
    <span id="bfb${i}" class="feedback"></span>
  `;
  bonusList.appendChild(li);

  const tiles=document.getElementById("btiles"+i);
  item.letters.forEach(l=>{
    const span=document.createElement("span");
    span.className="tile";
    span.textContent=l;
    span.onclick=()=>toggleBonus(span,i);
    tiles.appendChild(span);
  });
});

function toggleBonus(tile,i){
  const box=document.getElementById("bans"+i);
  if(tile.classList.contains("used")){
    tile.classList.remove("used");
    const current = box.textContent;
    const idx = current.indexOf(tile.textContent);
    if(idx !== -1){
      box.textContent = current.slice(0, idx) + current.slice(idx+1);
    }
  }else{
    tile.classList.add("used");
    box.textContent += tile.textContent;
  }
}

function checkBonus(){
  bonusWords.forEach((item,i)=>{
    const ans = normalize(document.getElementById("bans"+i).textContent);
    const correct = normalize(item.word);
    const fb = document.getElementById("bfb"+i);

    if(ans===correct){
      fb.textContent="‚úî";
      fb.className="feedback good";
    }else{
      fb.textContent="‚úñ";
      fb.className="feedback bad";
    }
  });
}

function resetBonus(){
  bonusWords.forEach((_,i)=>{
    document.getElementById("bans"+i).textContent="";
    document.getElementById("bfb"+i).textContent="";
    document.querySelectorAll(`#btiles${i} .tile`).forEach(t=>t.classList.remove("used"));
  });
}

function toggleChallenge(){
  const area = document.getElementById("challengeArea");
  const btn = document.getElementById("challengeBtn");
  const isHidden = area.classList.contains("hidden");
  if(isHidden){
    area.classList.remove("hidden");
    btn.textContent = "Hide challenge";
  }else{
    area.classList.add("hidden");
    btn.textContent = "Try a challenge (optional)";
  }
}

/* =========================================================
   PART 2: CONTEXT (10 items)
   ========================================================= */
const ctxAns=[
  "journey","desert","exhausted","dazzling","locate",
  "narrow","drop","refreshed","soar","come up with"
];

function checkContext(){
  ctxAns.forEach((a,i)=>{
    const fb=document.getElementById("cf"+(i+1));
    if(document.getElementById("c"+(i+1)).value===a){
      fb.textContent="‚úî";
      fb.className="feedback good";
    }else{
      fb.textContent="‚úñ";
      fb.className="feedback bad";
    }
  });
}

function resetContext(){
  ctxAns.forEach((_,i)=>{
    document.getElementById("c"+(i+1)).value="";
    document.getElementById("cf"+(i+1)).textContent="";
  });
}

/* =========================================================
   PART 3: COMPREHENSION (5 questions + helpful tips)
   ========================================================= */
const compAnswers={
  q1:{correct:"a",help:"Tip: The story says Crow landed in a desert with no water."},
  q2:{correct:"a",help:"Tip: Crow cannot reach the water because the jug is narrow."},
  q3:{correct:"a",help:"Tip: Crow drops stones into the jug one by one."},
  q4:{correct:"a",help:"Tip: The stones make the water level rise higher."},
  q5:{correct:"a",help:"Tip: The crow solves the problem by thinking carefully."}
};

function getRadioValue(name){
  const r=document.getElementsByName(name);
  for(let i of r){if(i.checked)return i.value;}
  return "";
}

function checkComprehension(){
  let score=0;
  Object.keys(compAnswers).forEach((q,i)=>{
    const chosen=getRadioValue(q);
    const fb=document.getElementById("qf"+(i+1));
    const hint=document.getElementById("qh"+(i+1));
    if(chosen===compAnswers[q].correct){
      fb.textContent="‚úî";
      fb.className="feedback good";
      hint.textContent="";
      score++;
    }else{
      fb.textContent="‚úñ";
      fb.className="feedback bad";
      hint.textContent=compAnswers[q].help;
    }
  });
  document.getElementById("compScore").textContent=score+"/5";
}

function resetComprehension(){
  Object.keys(compAnswers).forEach((q,i)=>{
    document.getElementsByName(q).forEach(r=>r.checked=false);
    document.getElementById("qf"+(i+1)).textContent="";
    document.getElementById("qh"+(i+1)).textContent="";
  });
  document.getElementById("compScore").textContent="0/5";
}
</script>

</body>
</html>

